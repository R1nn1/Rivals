local DrRayLibrary = loadstring(game:HttpGet("https://raw.githubusercontent.com/AZYsGithub/DrRay-UI-Library/main/DrRay.lua"))()

local window = DrRayLibrary:Load("Rinns Hub", "Default")

local tab = DrRayLibrary.newTab("Main Tab", "ImageIdHere")

local aimbotEnabled = false
local wallCheckEnabled = false
local aimbotFov = 100 -- default FOV value
local lockOnRange = 3000 -- default lock-on range
local fovCircle
local triggerBotEnabled = false
local triggerBotFov = 25 -- default Trigger Bot FOV value
local triggerBotWallCheck = false
local triggerBotCircle
local players = game:GetService("Players")
local camera = workspace.CurrentCamera
local UserInputService = game:GetService("UserInputService")
local activeTouch = nil
local mouse1press = mouse1press or function() end
local mouse1release = mouse1release or function() end
local triggerBotConnection

local function isMobile()
    return UserInputService.TouchEnabled and not UserInputService.MouseEnabled
end

local function createFovCircle()
    if fovCircle then
        fovCircle:Remove()
    end
    fovCircle = Drawing.new("Circle")
    fovCircle.Thickness = 2
    fovCircle.NumSides = 64
    fovCircle.Radius = aimbotFov
    fovCircle.Color = Color3.new(1, 1, 1)
    fovCircle.Transparency = 0.4
    fovCircle.Visible = aimbotEnabled
end

local function updateFovCircle()
    if fovCircle then
        fovCircle.Position = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)
        fovCircle.Radius = aimbotFov
        fovCircle.Visible = aimbotEnabled
    end
end

local function createTriggerBotCircle()
    if triggerBotCircle then
        triggerBotCircle:Remove()
    end
    triggerBotCircle = Drawing.new("Circle")
    triggerBotCircle.Thickness = 2
    triggerBotCircle.NumSides = 64
    triggerBotCircle.Radius = triggerBotFov
    triggerBotCircle.Color = Color3.new(1, 1, 0) -- Yellow color
    triggerBotCircle.Transparency = 0.4
    triggerBotCircle.Visible = triggerBotEnabled
end

local function updateTriggerBotCircle()
    if triggerBotCircle then
        triggerBotCircle.Position = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)
        triggerBotCircle.Radius = triggerBotFov
        triggerBotCircle.Visible = triggerBotEnabled
    end
end

local function isPlayerVisible(target)
    local origin = camera.CFrame.Position
    local _, onScreen = camera:WorldToScreenPoint(target.Position)
    if not onScreen then
        return false
    end
    
    local ray = Ray.new(origin, (target.Position - origin).unit * lockOnRange)
    local part, hitPosition = workspace:FindPartOnRayWithIgnoreList(ray, {camera, players.LocalPlayer.Character})
    if part and part:IsDescendantOf(target.Parent) then
        return true
    end
    
    return false
end

local function getClosestPlayer()
    local closestPlayer = nil
    local lowestHealth = math.huge
    local playersInCircle = {}
    
    for _, player in pairs(players:GetPlayers()) do
        if player ~= players.LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") and player.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = player.Character.HumanoidRootPart
            local humanoid = player.Character.Humanoid
            
            if humanoid.Health > 0 then -- Check if the player is alive
                local screenPoint = camera:WorldToScreenPoint(hrp.Position)
                local distanceFromCenter = (Vector2.new(screenPoint.X, screenPoint.Y) - Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)).Magnitude
                
                if distanceFromCenter <= aimbotFov and (not wallCheckEnabled or isPlayerVisible(hrp)) then
                    table.insert(playersInCircle, player)
                end
            end
        end
    end
    
    for _, player in pairs(playersInCircle) do
        if player.Character.Humanoid.Health < lowestHealth then
            lowestHealth = player.Character.Humanoid.Health
            closestPlayer = player
        end
    end
    
    return closestPlayer
end

tab.newToggle("Aimbot", "Makes an FOV when an enemy enters that FOV it will lock on to them", true, function(toggleState)
    aimbotEnabled = toggleState
    createFovCircle()
end)

tab.newToggle("Wall Check", "Checks if the player is behind a wall and won't lock on to them", true, function(toggleState)
    wallCheckEnabled = toggleState
end)

tab.newSlider("Aimbot FOV Changer", "Lets you change how big the FOV of the aimbot is", 1000, false, function(num)
    aimbotFov = num
    updateFovCircle()
end)

tab.newSlider("Lock-On Range Changer", "Lets you change the range of the aimbot", 5000, false, function(num)
    lockOnRange = num
end)

tab.newToggle("Trigger Bot", "Automatically fires for you when an enemy enters the circle doesn't support mobile that much", true, function(toggleState)
    triggerBotEnabled = toggleState
    createTriggerBotCircle()

    if triggerBotConnection then
        triggerBotConnection:Disconnect()
    end

    if toggleState then
        if isMobile() then
            triggerBotConnection = game:GetService("RunService").RenderStepped:Connect(function()
                local player = game:GetService("Players").LocalPlayer
                for _, targetPlayer in pairs(players:GetPlayers()) do
                    if targetPlayer ~= player and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                        local humanoid = targetPlayer.Character.Humanoid
                        if humanoid.Health > 0 then
                            local screenPoint = camera:WorldToScreenPoint(targetPlayer.Character.HumanoidRootPart.Position)
                            local distanceFromCenter = (Vector2.new(screenPoint.X, screenPoint.Y) - Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)).Magnitude
                            if distanceFromCenter <= triggerBotFov and (not triggerBotWallCheck or isPlayerVisible(targetPlayer.Character.HumanoidRootPart)) then
                                activeTouch = activeTouch or game:GetService("VirtualUser"):CaptureController()
                                game:GetService("VirtualUser"):ClickButton2(Vector2.new(screenPoint.X, screenPoint.Y))
                                wait(0.12)
                            end
                        end
                    end
                end
            end)
        else
            triggerBotConnection = game:GetService("RunService").RenderStepped:Connect(function()
                local player = game:GetService("Players").LocalPlayer
                local mouse = player:GetMouse()
                if mouse.Target and mouse.Target.Parent:FindFirstChild("Humanoid") and mouse.Target.Parent.Name ~= player.Name then
                    mouse1press()
                    wait(0.12)
                    mouse1release()
                end
            end)
        end
    end
end)

tab.newSlider("Trigger Bot FOV Changer", "Lets you change the size of the Trigger Bot circle", 50, false, function(num)
    triggerBotFov = num
    updateTriggerBotCircle()
end)

tab.newToggle("Trigger Bot Wall Check", "Checks if the player is behind a wall and won't trigger on them", true, function(toggleState)
    triggerBotWallCheck = toggleState
end)

game:GetService("RunService").RenderStepped:Connect(function()
    updateFovCircle()
    updateTriggerBotCircle()
    
    if aimbotEnabled then
        local closestPlayer = getClosestPlayer()
        if closestPlayer and closestPlayer.Character and closestPlayer.Character:FindFirstChild("HumanoidRootPart") then
            camera.CFrame = CFrame.new(camera.CFrame.Position, closestPlayer.Character.HumanoidRootPart.Position)
        end
    end
end)

tab.newToggle("Auto Vote Map", "Votes a map for you when you're in a match", true, function(toggleState)
    autoVoteEnabled = toggleState

    if autoVoteEnabled then
        spawn(function()
            while autoVoteEnabled do
                local maps = {"Arena", "Backrooms", "Docks", "Onyx", "Construction", "Station", "Crossroads"}
                local map = maps[math.random(1, #maps)]
                game:GetService("ReplicatedStorage").Remotes.Duels.VoteMap:FireServer(map)
                wait(0.15)
            end
        end)
    end
end)

-- settings
local settings = {
    defaultcolor = Color3.fromRGB(0, 0, 139),  -- Dark Blue
    teamcheck = false,
    teamcolor = true,
    boxESPEnabled = false,
    tracersEnabled = false,
    distanceESPEnabled = false,
    nameESPEnabled = false,
    boxWidth = 4,  -- Width of the box ESP
    boxHeight = 6  -- Height of the box ESP
};

-- services
local runService = game:GetService("RunService");
local players = game:GetService("Players");

-- variables
local localPlayer = players.LocalPlayer;
local camera = workspace.CurrentCamera;

-- functions
local newVector2, newColor3, newDrawing = Vector2.new, Color3.new, Drawing.new;
local round = function(...) local a = {}; for i, v in next, table.pack(...) do a[i] = math.round(v); end return unpack(a); end;
local wtvp = function(...) local a, b = camera:WorldToViewportPoint(...) return newVector2(a.X, a.Y), b, a.Z end;

local espCache = {};

local function createEsp(player)
    local drawings = {};

    -- Box ESP
    drawings.boxTop = newDrawing("Line");
    drawings.boxBottom = newDrawing("Line");
    drawings.boxLeft = newDrawing("Line");
    drawings.boxRight = newDrawing("Line");
    
    for _, boxPart in ipairs({drawings.boxTop, drawings.boxBottom, drawings.boxLeft, drawings.boxRight}) do
        boxPart.Thickness = 1;
        boxPart.Color = settings.defaultcolor;
        boxPart.Visible = false;
        boxPart.ZIndex = 2;
    end

    drawings.tracer = newDrawing("Line");
    drawings.tracer.Thickness = 1;
    drawings.tracer.Color = settings.defaultcolor;
    drawings.tracer.Visible = false;
    drawings.tracer.ZIndex = 1;

    drawings.name = newDrawing("Text");
    drawings.name.Text = player.Name;
    drawings.name.Size = 14;
    drawings.name.Center = true;
    drawings.name.Outline = true;
    drawings.name.Visible = false;
    drawings.name.Color = settings.defaultcolor;

    drawings.distance = newDrawing("Text");
    drawings.distance.Size = 14;
    drawings.distance.Center = true;
    drawings.distance.Outline = true;
    drawings.distance.Visible = false;
    drawings.distance.Color = settings.defaultcolor;

    espCache[player] = drawings;
end

local function removeEsp(player)
    if rawget(espCache, player) then
        for _, drawing in next, espCache[player] do
            drawing:Remove();
        end
        espCache[player] = nil;
    end
end

local function updateEsp(player, esp)
    local character = player and player.Character;
    if character then
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart");
        if humanoidRootPart then
            local rootPos, rootVisible = wtvp(humanoidRootPart.Position);
            local visible = rootVisible;

            local color = settings.teamcolor and player.TeamColor.Color or settings.defaultcolor;
            for _, boxPart in ipairs({esp.boxTop, esp.boxBottom, esp.boxLeft, esp.boxRight}) do
                boxPart.Color = color;
            end
            esp.tracer.Color = color;
            esp.name.Color = color;
            esp.distance.Color = color;

            for _, boxPart in ipairs({esp.boxTop, esp.boxBottom, esp.boxLeft, esp.boxRight}) do
                boxPart.Visible = visible and settings.boxESPEnabled;
            end
            esp.tracer.Visible = settings.tracersEnabled and visible;
            esp.name.Visible = settings.nameESPEnabled and visible;
            esp.distance.Visible = settings.distanceESPEnabled and visible;

            if visible then
                local boxWidth = settings.boxWidth * 10;
                local boxHeight = settings.boxHeight * 10;
                local x, y = round(rootPos.X, rootPos.Y);

                -- Box ESP
                esp.boxTop.From = newVector2(x - boxWidth / 2, y - boxHeight / 2);
                esp.boxTop.To = newVector2(x + boxWidth / 2, y - boxHeight / 2);

                esp.boxBottom.From = newVector2(x - boxWidth / 2, y + boxHeight / 2);
                esp.boxBottom.To = newVector2(x + boxWidth / 2, y + boxHeight / 2);

                esp.boxLeft.From = newVector2(x - boxWidth / 2, y - boxHeight / 2);
                esp.boxLeft.To = newVector2(x - boxWidth / 2, y + boxHeight / 2);

                esp.boxRight.From = newVector2(x + boxWidth / 2, y - boxHeight / 2);
                esp.boxRight.To = newVector2(x + boxWidth / 2, y + boxHeight / 2);

                -- Tracer ESP
                local localHead = localPlayer.Character and localPlayer.Character:FindFirstChild("Head");
                if localHead then
                    local localHeadPos = wtvp(localHead.Position);
                    esp.tracer.From = localHeadPos;
                    esp.tracer.To = rootPos;
                end

                -- Name ESP
                esp.name.Position = newVector2(x, y - boxHeight / 2 - 16);

                -- Distance ESP
                local distance = (localPlayer.Character.HumanoidRootPart.Position - character.HumanoidRootPart.Position).Magnitude;
                esp.distance.Text = string.format("%.0f", distance) .. "m";
                esp.distance.Position = newVector2(x, y + boxHeight / 2 + 16);
            end
        end
    else
        for _, boxPart in ipairs({esp.boxTop, esp.boxBottom, esp.boxLeft, esp.boxRight}) do
            boxPart.Visible = false;
        end
        esp.tracer.Visible = false;
        esp.name.Visible = false;
        esp.distance.Visible = false;
    end
end

-- main
for _, player in next, players:GetPlayers() do
    if player ~= localPlayer then
        createEsp(player);
    end
end

players.PlayerAdded:Connect(function(player)
    createEsp(player);
end);

players.PlayerRemoving:Connect(function(player)
    removeEsp(player);
end)

runService:BindToRenderStep("esp", Enum.RenderPriority.Camera.Value, function()
    for player, drawings in next, espCache do
        if settings.teamcheck and player.Team == localPlayer.Team then
            continue;
        end

        if drawings and player ~= localPlayer then
            updateEsp(player, drawings);
        end
    end
end)

-- GUI integration
local tab = DrRayLibrary.newTab("Esp Tab", "ImageIdHere")

tab.newToggle("Box Esp", "Draws a box around every player", true, function(toggleState)
    settings.boxESPEnabled = toggleState;
end)

tab.newToggle("Tracers Esp", "Draws a line to every player", true, function(toggleState)
    settings.tracersEnabled = toggleState;
end)

tab.newToggle("Distance Esp", "Displays the distance to every player", true, function(toggleState)
    settings.distanceESPEnabled = toggleState;
end)

tab.newToggle("Name Esp", "Displays the name of every player", true, function(toggleState)
    settings.nameESPEnabled = toggleState;
end)


local miscTab = DrRayLibrary.newTab("Misc Tab", "ImageIdHere")
local playersTab = DrRayLibrary.newTab("Players Tab", "ImageIdHere")

-- Function to teleport player
local function teleportPlayer(position)
    if players.LocalPlayer.Character and players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(position)
    end
end

-- Add buttons to Misc Tab
miscTab.newButton("Teleport to 1v1", "Teleport to coordinates for 1v1 match", function()
    teleportPlayer(Vector3.new(-141.97305297851562, -681.7706909179688, 1191.3756103515625)) -- Change coordinates as needed
end)

miscTab.newButton("Teleport to 2v2", "Teleport to coordinates for 2v2 match", function()
    teleportPlayer(Vector3.new(-143.44650268554688, -681.7706909179688, 1222.2271728515625)) -- Change coordinates as needed
end)

miscTab.newButton("Teleport to 3v3", "Teleport to coordinates for 3v3 match", function()
    teleportPlayer(Vector3.new(-142.705322265625, -681.7706909179688, 1252.825439453125)) -- Change coordinates as needed
end)

miscTab.newButton("Teleport to 4v4", "Teleport to coordinates for 4v4 match", function()
    teleportPlayer(Vector3.new(-98.58979797363281, -681.7706909179688, 1291.150390625)) -- Change coordinates as needed
end)

miscTab.newButton("Teleport to 5v5", "Teleport to coordinates for 5v5 match", function()
    teleportPlayer(Vector3.new(-140.42567443847656, -682.2500610351562, 1292.6689453125)) -- Change coordinates as needed
end)

-- FE Mobile Fly By Fedoratum#6195

local plr = game:GetService("Players")
local Lp = plr.LocalPlayer
local rs = game:GetService("RunService")

local controlModule = require(Lp.PlayerScripts:WaitForChild('PlayerModule'):WaitForChild("ControlModule"))

local bv = Instance.new("BodyVelocity")
bv.Name = "VelocityHandler"
bv.Parent = Lp.Character.HumanoidRootPart
bv.MaxForce = Vector3.new(0, 0, 0)
bv.Velocity = Vector3.new(0, 0, 0)

local bg = Instance.new("BodyGyro")
bg.Name = "GyroHandler"
bg.Parent = Lp.Character.HumanoidRootPart
bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
bg.P = 1000
bg.D = 50

Lp.CharacterAdded:Connect(function(NewChar)
    local bv = Instance.new("BodyVelocity")
    bv.Name = "VelocityHandler"
    bv.Parent = NewChar:WaitForChild("HumanoidRootPart")
    bv.MaxForce = Vector3.new(0, 0, 0)
    bv.Velocity = Vector3.new(0, 0, 0)

    local bg = Instance.new("BodyGyro")
    bg.Name = "GyroHandler"
    bg.Parent = NewChar:WaitForChild("HumanoidRootPart")
    bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bg.P = 1000
    bg.D = 50
end)

local speed = 50
local buttonIsOn = false

rs.RenderStepped:Connect(function()
    if Lp.Character and Lp.Character:FindFirstChildOfClass("Humanoid") and Lp.Character.HumanoidRootPart and Lp.Character.HumanoidRootPart:FindFirstChild("VelocityHandler") and Lp.Character.HumanoidRootPart:FindFirstChild("GyroHandler") then
        if buttonIsOn then
            Lp.Character.HumanoidRootPart.VelocityHandler.MaxForce = Vector3.new(9e9, 9e9, 9e9)
            Lp.Character.HumanoidRootPart.GyroHandler.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
            Lp.Character.Humanoid.PlatformStand = true
        else
            Lp.Character.HumanoidRootPart.VelocityHandler.MaxForce = Vector3.new(0, 0, 0)
            Lp.Character.HumanoidRootPart.GyroHandler.MaxTorque = Vector3.new(0, 0, 0)
            Lp.Character.Humanoid.PlatformStand = false
            return
        end

        Lp.Character.HumanoidRootPart.GyroHandler.CFrame = camera.CFrame
        local direction = controlModule:GetMoveVector()
        Lp.Character.HumanoidRootPart.VelocityHandler.Velocity = Vector3.new()
        if direction.X > 0 then
            Lp.Character.HumanoidRootPart.VelocityHandler.Velocity = Lp.Character.HumanoidRootPart.VelocityHandler.Velocity + camera.CFrame.RightVector * (direction.X * speed)
        end
        if direction.X < 0 then
            Lp.Character.HumanoidRootPart.VelocityHandler.Velocity = Lp.Character.HumanoidRootPart.VelocityHandler.Velocity + camera.CFrame.RightVector * (direction.X * speed)
        end
        if direction.Z > 0 then
            Lp.Character.HumanoidRootPart.VelocityHandler.Velocity = Lp.Character.HumanoidRootPart.VelocityHandler.Velocity - camera.CFrame.LookVector * (direction.Z * speed)
        end
        if direction.Z < 0 then
            Lp.Character.HumanoidRootPart.VelocityHandler.Velocity = Lp.Character.HumanoidRootPart.VelocityHandler.Velocity - camera.CFrame.LookVector * (direction.Z * speed)
        end
    end
end)

playersTab.newToggle("Fly", "Lets you fly", true, function(toggleState)
    buttonIsOn = toggleState
    if toggleState then
        print("On")
    else
        print("Off")
    end
end)

playersTab.newSlider("Fly Speed", "Change the speed of flying", 5000, false, function(num)
    speed = num
end)


local NotificationHolder = loadstring(game:HttpGet("https://raw.githubusercontent.com/BocusLuke/UI/main/STX/Module.Lua"))()
local Notification = loadstring(game:HttpGet("https://raw.githubusercontent.com/BocusLuke/UI/main/STX/Client.Lua"))()

Notification:Notify(
    {Title = "IMPORTANT", Description = "If any of the toggles are already on turn it off and turn it back on again black = off green = on"},
    {OutlineColor = Color3.fromRGB(80, 80, 80),Time = 10, Type = "option"},
    {Image = "http://www.roblox.com/asset/?id=6023426923", ImageColor = Color3.fromRGB(255, 84, 84), Callback = function(State) print(tostring(State)) end}
)

